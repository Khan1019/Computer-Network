# 计网Homework7

PB21111723 王涵

## R7

为什么 802. 11中使用 了确认，而有线以太网中却未使用？

------

1. **误差率和信道可靠性**：

   - **无线网络（802.11）**：无线网络受到多种因素的影响，如信号衰减、电磁干扰、物理障碍物等，这些因素都会增加数据传输的误差率。因此，802.11协议采用了确认机制，即接收方在成功接收数据帧后发送一个确认帧（ACK）回发送方，以确保数据的可靠传输。

   - **有线以太网**：相比之下，有线网络通常更为稳定，信号衰减和干扰较少。在这种环境下，数据传输的可靠性更高，因此不需要额外的确认机制。

2. **资源利用效率**：

   - 在无线网络中，由于带宽资源相对有限且信道条件不稳定，使用确认机制可以有效减少因误传导致的重复传输，从而提高资源利用效率。
   - 而在有线以太网中，由于物理媒介的稳定性和高数据传输率，通常能够在没有确认机制的情况下也保持高效的数据传输。

3. **网络协议的设计**：

   - 有线以太网的早期设计采用了冲突检测（CSMA/CD）机制来处理数据传输中的冲突，这在物理连接稳定的有线环境中是有效的。
   - 相反，无线网络必须应对更复杂的环境变化，因此在其协议设计中包含了确认机制来提高传输的可靠性。

总体来说，802.11网络中使用确认机制是为了应对无线通信中的不稳定性和高误差率，而有线以太网由于其稳定性和高效率，通常不需要这种额外的确认机制来保证数据的可靠传输。

## R11

为了让交换机能够适当地转发帧，一个AP可能需要发送一个带有欺骗性MAC地址的帧。这主要是因为：

1. **更新交换机的转发表**：在有线局域网中，交换机使用MAC地址表来确定如何将帧从一个端口转发到另一个端口。这个表是通过观察经过交换机端口的帧来动态学习的。当一个无线站点从一个AP移动到另一个AP时，其数据需要从新的物理位置（新AP）通过网络传输。
2. **解决移动性引起的问题**：在无线网络中，站点的移动性意味着它们可以改变与之相连的AP。这会导致站点的数据帧从新的AP发出，而不是原来的AP。如果交换机的MAC地址表没有及时更新，它可能会继续错误地将流量发送到旧的AP，同时避免了切换后的丢包。
3. **使用欺骗性MAC地址帧**：为了快速更新交换机的MAC地址表，新的AP会发送一个特殊的帧，这个帧看似来自于刚刚移动的无线站点的MAC地址。实际上，这个帧是由AP生成的，目的是让交换机“认为”这个站点现在通过新的AP连接。这样，交换机就会更新其MAC地址表，将流量正确地定向到新的AP。

## P5

假设有两个 ISP 个特定的咖啡馆内提供 WiFi 接入，并且每个 ISP 有其自己的 AP和IP 地址块 

a.进一步假设，两个 ISP 都意外地将其 AP 配置运行在信道 11 。在这种情况下， 802 协议是否将完全崩溃 ？讨论下当两个各自与不同 ISP 相关联的站点试图同时传输时，将会发生什么情况 ？

b. 现在假设 AP 运行在信道 1，而另 个运行在信道 11 。你的答案将会有什么变化？

------

a. 当两个 AP 运行在同一信道（如信道 11）时：

- 802.11 协议不会“崩溃”，但性能可能受到影响。802.11 协议包括碰撞避免机制，这意味着即使两个 AP 在同一信道上运行，协议也能继续工作。
- 当两个与不同 ISP 相关联的站点试图同时传输时，可能会发生信号干扰和网络拥塞。这会导致数据包延迟和丢失，从而降低网络性能和可靠性。
- 碰撞检测（CD）和碰撞避免（CA）机制会起作用，AP 会监听信道是否空闲，然后再发送数据。如果两个 AP 同时检测到信道空闲并尝试传输，它们的信号可能会相互干扰。

b. 当一个 AP 运行在信道 1 而另一个运行在信道 11 时：

- 由于信道 1 和信道 11 在频谱上相隔较远，它们之间不太可能发生干扰。这意味着每个 AP 可以更有效地使用其所在的信道。
- 在这种配置下，同时传输的站点将经历更少的干扰和更好的网络性能。每个 AP 可以独立操作，减少了数据包碰撞和延迟的可能性。
- 总体而言，分开信道的设置提高了网络的整体效率和性能，因为两个 AP 不会相互干扰。

## P6

在CSMA/CA协议的第4步，一个成功传输一个帧的站点在第2步(而非第1步)开始CSMA/CA协议。通过不让这样一个站点立即传输第2个帧 (如果侦听到该信道空闲)，CSMA/CA 的设计者是基于怎样的基本原理来考虑的呢？

------

1. **确保网络访问的公平性**：

   如果一个站点在传输完一个帧后立即开始下一个帧的传输，它可能会持续占据信道，从而使其他等待传输的站点难以获得访问机会。从第2步开始意味着在每次成功传输后，站点必须重新评估信道的状态，给其他站点提供访问信道的公平机会。

2. **减少信道碰撞的风险**：

   由于无线信道是共享媒介，如果每个站点在发送完一个帧后都立即尝试发送另一个帧，那么这将增加网络中碰撞的可能性。重新从第2步开始，执行随机退避算法，有助于降低这种碰撞的风险。

3. **避免连续占用信道**：

   遵循随机退避机制可防止任何单个站点在连续发送多个帧时占据信道，这有助于平衡网络负载并提高整体网络效率。

4. **适应动态网络条件**：

   无线网络环境可以非常动态，信道状态可能迅速变化。在每次传输后重新评估信道状态可以确保站点适应这些变化，从而在合适的时机进行数据传输。













